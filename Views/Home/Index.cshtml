@model B2BUygulamasi.Models.Kullanici
@{
    ViewData["Title"] = "Ana Sayfa";
}

@if (Model == null)
{
    <div class="alert alert-danger">
        Kullanıcı bilgileri yüklenemedi. Lütfen tekrar giriş yapın.
    </div>
    <a asp-action="Login" asp-controller="Account" class="btn btn-primary">Giriş Yap</a>
}
else
{
    <div class="container">
        <h2>Hoş Geldiniz, @Model.Ad @Model.Soyad</h2>

        <div class="card mt-4">
            <div class="card-header">
                <h4>Kullanıcı Bilgileri</h4>
            </div>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-3">Firma Adı:</dt>
                    <dd class="col-sm-9">@(Model.FirmaAdi ?? "Belirtilmemiş")</dd>

                    <dt class="col-sm-3">E-posta:</dt>
                    <dd class="col-sm-9">@Model.Email</dd>

                    <dt class="col-sm-3">Roller:</dt>
                    <dd class="col-sm-9">
                        @if (Model.KullaniciRolleri?.Any() == true)
                        {
                            @string.Join(", ", Model.KullaniciRolleri.Select(x => x.Rol?.RolAdi))
                        }
                        else
                        {
                            <span>Rol atanmamış</span>
                        }
                    </dd>
                </dl>
            </div>
        </div>
    </div>
}